{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonkomane\\\\student-feedback-app\\\\frontend\\\\src\\\\components\\\\FeedbackList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getAllFeedback, deleteFeedback } from '../services/api';\nimport './FeedbackList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FeedbackList = ({\n  refreshTrigger\n}) => {\n  _s();\n  const [feedback, setFeedback] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const fetchFeedback = async () => {\n    try {\n      setLoading(true);\n      const result = await getAllFeedback();\n      if (result.success) {\n        setFeedback(result.data);\n      } else {\n        setError('Failed to fetch feedback');\n      }\n    } catch (err) {\n      setError('Error connecting to server');\n      console.error('Fetch error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchFeedback();\n  }, [refreshTrigger]);\n  const handleDelete = async feedbackId => {\n    if (window.confirm('Are you sure you want to delete this feedback?')) {\n      try {\n        const result = await deleteFeedback(feedbackId);\n        if (result.success) {\n          // Remove the deleted feedback from the list\n          setFeedback(prev => prev.filter(item => item.feedback_id !== feedbackId));\n        } else {\n          alert('Failed to delete feedback: ' + result.message);\n        }\n      } catch (err) {\n        alert('Error deleting feedback');\n        console.error('Delete error:', err);\n      }\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading feedback...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"feedback-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Course Feedback (\", feedback.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), feedback.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-feedback\",\n      children: \"No feedback submitted yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"feedback-grid\",\n      children: feedback.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feedback-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feedback-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"student-name\",\n            children: item.student_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feedback-meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"course-code\",\n              children: item.course_code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rating\",\n              children: [\"Rating: \", item.rating, \"/5\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"comments\",\n          children: item.comments\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feedback-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"submission-date\",\n            children: formatDate(item.submission_date)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-btn\",\n            onClick: () => handleDelete(item.feedback_id),\n            title: \"Delete feedback\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this)]\n      }, item.feedback_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(FeedbackList, \"qMbCPwev5BA01grvoqe5ZKE6r/U=\");\n_c = FeedbackList;\nexport default FeedbackList;\nvar _c;\n$RefreshReg$(_c, \"FeedbackList\");","map":{"version":3,"names":["React","useState","useEffect","getAllFeedback","deleteFeedback","jsxDEV","_jsxDEV","FeedbackList","refreshTrigger","_s","feedback","setFeedback","loading","setLoading","error","setError","fetchFeedback","result","success","data","err","console","handleDelete","feedbackId","window","confirm","prev","filter","item","feedback_id","alert","message","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","student_name","course_code","rating","comments","submission_date","onClick","title","_c","$RefreshReg$"],"sources":["C:/Users/Jonkomane/student-feedback-app/frontend/src/components/FeedbackList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getAllFeedback, deleteFeedback } from '../services/api';\r\nimport './FeedbackList.css';\r\n\r\nconst FeedbackList = ({ refreshTrigger }) => {\r\n  const [feedback, setFeedback] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  const fetchFeedback = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await getAllFeedback();\r\n      if (result.success) {\r\n        setFeedback(result.data);\r\n      } else {\r\n        setError('Failed to fetch feedback');\r\n      }\r\n    } catch (err) {\r\n      setError('Error connecting to server');\r\n      console.error('Fetch error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchFeedback();\r\n  }, [refreshTrigger]);\r\n\r\n  const handleDelete = async (feedbackId) => {\r\n    if (window.confirm('Are you sure you want to delete this feedback?')) {\r\n      try {\r\n        const result = await deleteFeedback(feedbackId);\r\n        if (result.success) {\r\n          // Remove the deleted feedback from the list\r\n          setFeedback(prev => prev.filter(item => item.feedback_id !== feedbackId));\r\n        } else {\r\n          alert('Failed to delete feedback: ' + result.message);\r\n        }\r\n      } catch (err) {\r\n        alert('Error deleting feedback');\r\n        console.error('Delete error:', err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading feedback...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error-message\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"feedback-list-container\">\r\n      <h2>Course Feedback ({feedback.length})</h2>\r\n      \r\n      {feedback.length === 0 ? (\r\n        <div className=\"no-feedback\">No feedback submitted yet.</div>\r\n      ) : (\r\n        <div className=\"feedback-grid\">\r\n          {feedback.map((item) => (\r\n            <div key={item.feedback_id} className=\"feedback-card\">\r\n              <div className=\"feedback-header\">\r\n                <h3 className=\"student-name\">{item.student_name}</h3>\r\n                <div className=\"feedback-meta\">\r\n                  <span className=\"course-code\">{item.course_code}</span>\r\n                  <span className=\"rating\">Rating: {item.rating}/5</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <p className=\"comments\">{item.comments}</p>\r\n              \r\n              <div className=\"feedback-footer\">\r\n                <span className=\"submission-date\">\r\n                  {formatDate(item.submission_date)}\r\n                </span>\r\n                <button\r\n                  className=\"delete-btn\"\r\n                  onClick={() => handleDelete(item.feedback_id)}\r\n                  title=\"Delete feedback\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FeedbackList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}